---
import Layout from '../layouts/Layout.astro'
import { sortPosts } from '@/helpers/Post'
import type { Post } from '@/helpers/Post'

const meta = {
  title: `Matt Waler's blog, chock full of his thoughts and ramblings.`,
  description:
    'Coding tips, tech rants, coffee-fueled tutorials, and the occasional meme. Come for the bugs, stay for the fixes!',
}

const posts: Post[] = Object.values(
  import.meta.glob('./blog/*.md', { eager: true })
)
---

<Layout meta={meta}>
  <div class="typography">
    <h1>Blog</h1>
    <p>
      Coding tips, tech rants, coffee-fueled tutorials, and the occasional meme.
      Come for the bugs, stay for the fixes! We don't have a ton here just yet,
      but don't worry, more is on the way!
    </p>
    <ul>
      {
        sortPosts(posts).map((post) => (
          <li>
            <a href={post.url}>{post.frontmatter.title}</a>
          </li>
        ))
      }
    </ul>
  </div>
</Layout>
